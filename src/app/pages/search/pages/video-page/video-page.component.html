<div class="search-header">
  <mat-icon [routerLink]="['/search']" [queryParams]="{ q: this.query }">chevron_left</mat-icon>
  <span>Search</span>
</div>
<div class="video-container">
  <div class="video-grid">
    @for (item of (videos$ | async); track item.profileId) {
      <mat-card class="video-card" appearance="outlined" (click)="openDialog(item)">
        <img mat-card-image
             src="{{convertToSupabaseUrl(item.thumbnailPath,'thumbnail')}}"
             alt="Video Placeholder Image" class="thumbnail">
        <mat-card-content>
          <div class="video-info">
            <span class="title">{{ item.title }}</span>
            <div class="video-details">
              <div class="user" [routerLink]="['/profile', item.profile?.id, 'videos' ] "
                   (click)="$event.stopPropagation()">
                <img class="user-avatar" src="{{item.profile?.avatarPath | avatar }}" alt="Username">
                <span class="user-name">{{ item.profile?.username }}</span>
              </div>
              <span class="date">{{ item.createdAt | date }}</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    }
  </div>
</div>

