<div class="container">


  <div class="left-container" #pageContainer>
    <button mat-icon-button class="btn-close" aria-label="Close" (click)="closeDialog()">
      <mat-icon>close</mat-icon>
    </button>
    <div class="frame-video" [ngStyle]="getCardBoxStyle(videoDetail)">


      @if (videoId && videoId != '') {
        <app-dialog-video [aspectRatio]="'9:16'"
                          videoSrc="{{convertToSupabaseUrl(`${videoId}/master.m3u8`,'video')}}"></app-dialog-video>
      }

    </div>

  </div>

  <div class="right-container">
    <div style="flex: 1 ; display: flex; flex-direction: column; gap:10px; overflow: auto">
      <div class="top-right-container">
        <div class="info-user">
          <div class="frame-avatar">

            <!-- Avatar -->
            <div class="info">
              <img class="avatar"
                   src="https://material.angular.dev/assets/img/examples/shiba2.jpg"
                   alt="avatar">

              <!-- Info -->
              <div class="info-username">
                <span class="username">User Name </span>
                <span class="followers"> Name</span>
              </div>

            </div>

            <!-- Button -->
            <div class="button-follow" (click)="toggleFollow()">
              @if (isFollowing) {
                <button mat-button class="following-btn">
                  ✓ Following
                </button>
              } @else {
                <button mat-button class="follow-btn">
                  + Follow
                </button>
              }
            </div>


          </div>

        </div>
        <div class="title">
          <span class="title-text">Title of the post </span>
          <span class="description" [ngClass]="{ 'collapsed': !isExpanded }"
                [ngStyle]="{'maxWidth': isExpanded ? '' : '100%'}">Trong cửa sổ chi tiết này, người dùng có thể xem toàn bộ thông tin liên quan đến bài viết, bình luận hoặc dữ liệu được chọn từ trang chính. Nội dung được thiết kế để hiển thị rõ ràng, có bố cục cân đối, dễ dàng tương tác. Ở góc trên bên trái là nút đóng có biểu tượng dấu ✖, giúp người dùng nhanh chóng quay lại màn hình trước đó. Khu vực trung tâm của dialog có thể chứa ảnh đại diện, tên tác giả, ngày đăng, cùng với nội dung văn bản dài. Phần phía dưới thường được dành để hiển thị danh sách bình luận hoặc các hành động phụ như thêm vào mục yêu thích, lưu nhãn, hay chia sẻ. Ngoài ra, mỗi bình luận cũng được sắp xếp theo thời gian, có avatar, tên người dùng và đoạn nội dung riêng biệt, tạo cảm giác thân thiện và dễ theo dõi. Toàn bộ dialog được bao bọc trong một không gian gọn gàng, kết hợp màu sắc hài hòa, mang lại trải nghiệm vừa trực quan vừa thoải mái, đồng thời vẫn giữ tính chuyên nghiệp.Trong cửa sổ chi tiết này, người dùng có thể xem toàn bộ thông tin liên quan đến bài viết, bình luận hoặc dữ liệu được chọn từ trang chính. Nội dung được thiết kế để hiển thị rõ ràng, có bố cục cân đối, dễ dàng tương tác. Ở góc trên bên trái là nút đóng có biểu tượng dấu ✖, giúp người dùng nhanh chóng quay lại màn hình trước đó. Khu vực trung tâm của dialog có thể chứa ảnh đại diện, tên tác giả, ngày đăng, cùng với nội dung văn bản dài. Phần phía dưới thường được dành để hiển thị danh sách bình luận hoặc các hành động phụ như thêm vào mục yêu thích, lưu nhãn, hay chia sẻ. Ngoài ra, mỗi bình luận cũng được sắp xếp theo thời gian, có avatar, tên người dùng và đoạn nội dung riêng biệt, tạo cảm giác thân thiện và dễ theo dõi. Toàn bộ dialog được bao bọc trong một không gian gọn gàng, kết hợp màu sắc hài hòa, mang lại trải nghiệm vừa trực quan vừa thoải mái, đồng thời vẫn giữ tính chuyên nghiệp.</span>
        </div>
        <button class="toggle-btn" (click)="isExpanded = !isExpanded">
          {{ isExpanded ? 'Thu gọn' : 'Xem thêm' }}
        </button>
        <div class="actions-bar">
          <button mat-button class="heart" [class.active]="isFavoriteActive"
                  (click)="isFavoriteActive = !isFavoriteActive">
            @if (isFavoriteActive) {
              <mat-icon>favorite</mat-icon>
            } @else {
              <mat-icon>favorite_border</mat-icon>
            }
            <span>10N</span>
          </button>
          <button mat-button class="action" [class.active]="isSavetagActive"
                  (click)="isSavetagActive = !isSavetagActive">
            @if (isSavetagActive) {
              <mat-icon>bookmark</mat-icon>
            } @else {
              <mat-icon>bookmark_border</mat-icon>
            }
            <span>10N</span>
          </button>
          <button mat-button class="comment">
            <mat-icon>chat_bubble_outline</mat-icon>
            <span>10N</span>
          </button>
        </div>
        <div class="comment-section">
          <!-- Header -->
          <div class="comment-header">

          </div>
          <div class="comment-list">
            <!-- Comment List with @for -->
            @for (c of comment; track c.id) {
              <div class="comment">
                <img [src]="c.avatar" alt="avatar" class="avatar">
                <div class="comment-content">
                  <p><strong>{{ c.name }}</strong> {{ c.text }}</p>
                  <span class="date">{{ c.date }}</span>
                </div>
              </div>
            }
          </div>

        </div>
      </div>
      <div class="bottom-right-container">


      </div>
    </div>
    <div class="frame-comment">
      <mat-form-field appearance="outline">
        <mat-label>Thêm bình luận</mat-label>
        <input matInput placeholder="Placeholder">
        <mat-icon matSuffix>send</mat-icon>

      </mat-form-field>
    </div>
  </div>
</div>


<!--'detail.thumbnailPath','thumbnail'-->
<!--'id/master.m3u8','video'-->
